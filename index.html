<!DOCTYPE html>

<html lang="ar">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Mohest</title>

    <style>

        body {

            font-family: Arial, sans-serif;

            direction: rtl;

            text-align: center;

            background-color: #121212;

            color: #ffffff;

            margin: 0;

            padding: 0;

        }

        .search-bar {

            margin: 20px;

        }

        .search-bar input {

            width: 100%;

            padding: 10px;

            border-radius: 5px;

            border: 1px solid #444;

            background-color: #333;

            color: #ffffff;

        }

        .gallery {

            display: grid;

            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));

            gap: 10px;

            padding: 20px;

            max-width: 1200px;

            margin: auto;

        }

        .gallery-item {

            position: relative;

            border: 2px solid #444;

            border-radius: 10px;

            overflow: hidden;

        }

        .gallery img {

            width: 100%;

            height: auto;

            object-fit: cover;

            cursor: pointer;

            transition: transform 0.3s ease;

        }

        .gallery img:hover {

            transform: scale(1.05);

        }

        .gallery .caption {

            background-color: rgba(0, 0, 0, 0.7);

            color: #ffffff;

            padding: 5px;

            position: absolute;

            bottom: 0;

            width: 100%;

            text-align: center;

            box-sizing: border-box;

            font-size: 14px;

        }

        .upload-section {

            position: fixed;

            top: 20px;

            right: 20px;

            z-index: 100;

        }

        .upload-section input[type="text"] {

            margin-bottom: 10px;

            padding: 10px;

            border-radius: 5px;

            border: 1px solid #444;

            background-color: #333;

            color: #ffffff;

            width: 80%;

        }

        .upload-section button {

            padding: 10px 20px;

            cursor: pointer;

            border: none;

            border-radius: 5px;

            background-color: #4CAF50;

            color: white;

            margin-top: 10px;

            transition: background-color 0.3s ease;

        }

        .upload-section button:hover {

            background-color: #45a049;

        }

        .fullscreen {

            display: none;

            position: fixed;

            top: 0;

            left: 0;

            width: 100%;

            height: 100%;

            background-color: rgba(0, 0, 0, 0.8);

            justify-content: center;

            align-items: center;

            z-index: 1000;

        }

        .fullscreen img {

            max-width: 90%;

            max-height: 90%;

        }

        .fullscreen .actions {

            margin-top: 20px;

        }

        .fullscreen .actions button {

            margin: 0 10px;

            padding: 10px 20px;

            cursor: pointer;

            border: none;

            border-radius: 5px;

            background-color: #4CAF50;

            color: white;

            transition: background-color 0.3s ease;

        }

        .fullscreen .actions button:hover {

            background-color: #45a049;

        }

        .toggle-theme {

            position: fixed;

            top: 20px;

            left: 20px;

            background-color: #4CAF50;

            color: white;

            padding: 10px 20px;

            border-radius: 5px;

            cursor: pointer;

            border: none;

            z-index: 100;

            transition: background-color 0.3s ease;

        }

        .toggle-theme:hover {

            background-color: #45a049;

        }

        .theme-icon {

            margin-right: 10px;

        }

    </style>

</head>

<body onload="loadImages()">

    <h1>Mohest</h1>

    <!-- ÿ≤ÿ± ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸàÿ∂ÿπ -->

    <button class="toggle-theme" onclick="toggleTheme()">

        <span class="theme-icon">üåô</span> ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸàÿ∂ÿπ

    </button>

    <!-- ÿ≤ÿ± ÿ•ÿ∂ÿßŸÅÿ© ÿµŸàÿ±ÿ© ÿ´ÿßÿ®ÿ™ -->

    <div class="upload-section">

        <input type="file" id="uploadInput" accept="image/*" style="display:none;" onchange="showTitleInput()">

        <input type="text" id="imageTitleInput" placeholder="ÿ£ÿØÿÆŸÑ ÿπŸÜŸàÿßŸÜ ÿßŸÑÿµŸàÿ±ÿ©" style="display:none;">

        <button id="uploadButton" onclick="document.getElementById('uploadInput').click()">+ ÿßÿÆÿ™ÿ± ÿµŸàÿ±ÿ©</button>

        <button id="submitButton" onclick="uploadImage()" style="display:none;">ÿ±ŸÅÿπ ÿßŸÑÿµŸàÿ±ÿ©</button>

    </div>

    <!-- ŸÇÿ≥ŸÖ ÿßŸÑÿ®ÿ≠ÿ´ -->

    <div class="search-bar">

        <input type="text" id="searchInput" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ÿµŸàÿ±ÿ©..." onkeyup="searchImages()">

    </div>

    <!-- ŸÖÿπÿ±ÿ∂ ÿßŸÑÿµŸàÿ± -->

    <div class="gallery" id="gallery">

        <!-- ÿßŸÑŸÖÿπÿ±ÿ∂ ŸÅÿßÿ±ÿ∫ ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ÿ±ŸÅÿπ ÿßŸÑÿµŸàÿ± -->

    </div>

    <!-- ÿπÿ±ÿ∂ ÿßŸÑÿµŸàÿ±ÿ© ŸÅŸä ŸÉÿßŸÖŸÑ ÿßŸÑÿ¥ÿßÿ¥ÿ© -->

    <div class="fullscreen" id="fullscreen">

        <img id="fullscreenImg" src="" alt="ÿπÿ±ÿ∂ ÿßŸÑÿµŸàÿ±ÿ©">

        <div class="actions">

            <button onclick="saveImage()">ÿ≠ŸÅÿ∏ ÿßŸÑÿµŸàÿ±ÿ©</button>

            <button onclick="closeFullscreen()">‚ùåÔ∏è ÿ•ÿ∫ŸÑÿßŸÇ</button>

        </div>

    </div>

    <script>

        // ÿ™ÿ∫ŸäŸäÿ± ÿ®ŸäŸÜ ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÑŸäŸÑŸä ŸàÿßŸÑŸàÿ∂ÿπ ÿßŸÑÿ£ÿ®Ÿäÿ∂ ÿ®ÿ∂ÿ∫ÿ∑ÿ© Ÿàÿßÿ≠ÿØÿ©

        function toggleTheme() {

            let body = document.body;

            let themeIcon = document.querySelector('.theme-icon');

            if (body.style.backgroundColor === 'rgb(18, 18, 18)' || body.style.backgroundColor === '') {

                body.style.backgroundColor = '#ffffff';

                body.style.color = '#000000';

                themeIcon.textContent = '‚òÄ';

            } else {

                body.style.backgroundColor = '#121212';

                body.style.color = '#ffffff';

                themeIcon.textContent = 'üåô';

            }

        }

        // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑÿµŸàÿ±

        function searchImages() {

            let input = document.getElementById('searchInput').value.toLowerCase();

            let images = document.getElementById('gallery').getElementsByClassName('gallery-item');

            for (let i = 0; i < images.length; i++) {

                let captionText = images[i].getElementsByClassName('caption')[0].innerText.toLowerCase();

                if (captionText.includes(input)) {

                    images[i].style.display = "block";

                } else {

                    images[i].style.display = "none";

                }

            }

        }

        // ÿ•ÿ∏Ÿáÿßÿ± ÿ≠ŸÇŸÑ ÿπŸÜŸàÿßŸÜ ÿßŸÑÿµŸàÿ±ÿ© Ÿàÿ≤ÿ± ÿßŸÑÿ±ŸÅÿπ ÿ®ÿπÿØ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿµŸàÿ±ÿ©

        function showTitleInput() {

            document.getElementById('imageTitleInput').style.display = 'block';

            document.getElementById('submitButton').style.display = 'block';

        }

        // ŸÅÿ™ÿ≠ ÿßŸÑÿµŸàÿ±ÿ© ŸÅŸä ŸÉÿßŸÖŸÑ ÿßŸÑÿ¥ÿßÿ¥ÿ©

        function openFullscreen(img) {

            let fullscreen = document.getElementById('fullscreen');

            let fullscreenImg = document.getElementById('fullscreenImg');

            fullscreenImg.src = img.src;

            fullscreen.style.display = "flex";

        }

        // ÿ•ÿ∫ŸÑÿßŸÇ ÿπÿ±ÿ∂ ÿßŸÑÿµŸàÿ±ÿ© ŸÅŸä ŸÉÿßŸÖŸÑ ÿßŸÑÿ¥ÿßÿ¥ÿ©

        function closeFullscreen() {

            let fullscreen = document.getElementById('fullscreen');

            fullscreen.style.display = "none";

        }

        // ÿ≠ŸÅÿ∏ ÿßŸÑÿµŸàÿ±ÿ©

        function saveImage() {

            let fullscreenImg = document.getElementById('fullscreenImg');

            let link = document.createElement('a');

            link.href = fullscreenImg.src;

            link.download = "saved-image.jpg";

            link.click();

        }

        // ÿ±ŸÅÿπ ÿßŸÑÿµŸàÿ±ÿ© Ÿàÿ•ÿ∂ÿßŸÅÿ™Ÿáÿß ŸÑŸÑŸÖÿπÿ±ÿ∂ ŸÖÿπ ÿßŸÑÿπŸÜŸàÿßŸÜ

        function uploadImage() {

            let input = document.getElementById('uploadInput');

            let titleInput = document.getElementById('imageTitleInput');

            let gallery = document.getElementById('gallery');

            if (input.files && input.files[0]) {

                let reader = new FileReader();

                reader.onload = function(e) {

                    let newItem = document.createElement('div');

                    newItem.classList.add('gallery-item');

                    let newImage = document.createElement('img');

                    newImage.src = e.target.result;

                    newImage.alt = titleInput.value || "ÿµŸàÿ±ÿ© ÿ¨ÿØŸäÿØÿ©";

                    newImage.onclick = function() { openFullscreen(newImage); };

                    let caption = document.createElement('div');

                    caption.classList.add('caption');

                    caption.innerText = titleInput.value || "ÿπŸÜŸàÿßŸÜ ÿßŸÑÿµŸàÿ±ÿ©";

                    newItem.appendChild(newImage);

                    newItem.appendChild(caption);

                    gallery.appendChild(newItem);

                    // ÿ≠ŸÅÿ∏ ÿßŸÑÿµŸàÿ± ŸÅŸä LocalStorage

                    saveImages();

                    // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ≠ŸÇŸàŸÑ ÿßŸÑÿ•ÿØÿÆÿßŸÑ

                    titleInput.value = '';

                    input.value = '';

                    // ÿ•ÿÆŸÅÿßÿ° ÿ≠ŸÇŸÑ ÿßŸÑÿπŸÜŸàÿßŸÜ Ÿàÿ≤ÿ± ÿßŸÑÿ±ŸÅÿπ ÿ®ÿπÿØ ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ°

                    titleInput.style.display = 'none';

                    document.getElementById('submitButton').style.display = 'none';

                };

                reader.readAsDataURL(input.files[0]);

            }

        }

        // ÿ≠ŸÅÿ∏ ÿßŸÑÿµŸàÿ± ŸÅŸä LocalStorage

        function saveImages() {

            let galleryItems = document.getElementsByClassName('gallery-item');

            let images = [];

            for (let i = 0; i < galleryItems.length; i++) {

                let img = galleryItems[i].getElementsByTagName('img')[0];

                let caption = galleryItems[i].getElementsByClassName('caption')[0].innerText;

                images.push({

                    src: img.src,

                    caption: caption

                });

            }

            localStorage.setItem('images', JSON.stringify(images));

        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸàÿ± ŸÖŸÜ LocalStorage ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©

        function loadImages() {

            let images = JSON.parse(localStorage.getItem('images')) || [];

            let gallery = document.getElementById('gallery');

            images.forEach(function(image) {

                let newItem = document.createElement('div');

                newItem.classList.add('gallery-item');

                let newImage = document.createElement('img');

                newImage.src = image.src;

                newImage.alt = image.caption;

                newImage.onclick = function() { openFullscreen(newImage); };

                let caption = document.createElement('div');

                caption.classList.add('caption');

                caption.innerText = image.caption;

                newItem.appendChild(newImage);

                newItem.appendChild(caption);

                gallery.appendChild(newItem);

            });

        }

        // ÿ™ŸÜŸÅŸäÿ∞ ÿ≠ŸÅÿ∏ ÿßŸÑÿµŸàÿ± ÿπŸÜÿØ ÿ±ŸÅÿπ ÿµŸàÿ±ÿ© ÿ¨ÿØŸäÿØÿ©

        document.getElementById('submitButton').onclick = function() {

            uploadImage();

            saveImages();

        };

    </script>

</body>

</html>